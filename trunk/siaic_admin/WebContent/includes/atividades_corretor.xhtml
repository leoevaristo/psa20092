<ui:fragment xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

	<rich:modalPanel id="modalAtividades" autosized="true">


		<a4j:form id="formBusca">
			<a4j:region>
				<a4j:outputPanel>					
					<rich:dataTable id="tableAtividade"
						onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						onRowMouseOut="this.style.backgroundColor='#FFFFFF'"
						value="#{consultaAgendaBean.agendaData}" var="tabatividade"
						width="450">

						<f:facet name="header">
							<rich:columnGroup>
								<rich:column rowspan="2">
									<rich:spacer />																											
								</rich:column>
								<rich:column colspan="3">
									<h:outputText value="Atividades" />
								</rich:column>
								<rich:column breakBefore="true">
									<h:outputText value="Data" />									
								</rich:column>
								<rich:column>
									<h:outputText value="Atividade" />
								</rich:column>
								<rich:column>
									<h:outputText value="Hora" />
								</rich:column>
							</rich:columnGroup>
						</f:facet>
						<rich:column>
						<a4j:commandLink
								action="#"
								id="setaAgenda" reRender="ag" ajaxSingle="true">
								<h:graphicImage value="/images/check.png" />
								<f:setPropertyActionListener
									target="#{cadastrarAgendaBean.agenda}"
									value="#{tabatividade}"></f:setPropertyActionListener>
							</a4j:commandLink> 														
						</rich:column>
						<rich:column>
							<h:outputText value="#{tabatividade.data}" />
						</rich:column>
						<rich:column>
							<h:outputText value="#{tabatividade.descricao}" />
						</rich:column>
						<rich:column>
							<h:outputText value="#{tabatividade.horaInicio}" />
						</rich:column>
					</rich:dataTable>
				</a4j:outputPanel>
			</a4j:region>
		</a4j:form>
		<f:facet name="header">
			<h:outputText value="Listagem das Atividades" />
		</f:facet>
		<f:facet name="controls">
			<h:outputLink id="linkFecha" value="#">
				<h:outputText value="fechar" />
				<rich:componentControl attachTo="linkFecha" for="modalAtividades"
					event="onclick" operation="hide" />
			</h:outputLink>
		</f:facet>
	</rich:modalPanel>
</ui:fragment>